
RewriteEngine on

# just grab files if they exist
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule (.*) - [L]

# rewrite the blog posts
RewriteRule ^(blog)/(\d+)/(\w+)/(\d+)/([^/]+)/?$  $1/$2-$3-$4-$5.html [L]

# if all you need is a .html, go for it
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule (.*) $1.html [L]

# ab/ -> ab.html if it exists
RewriteCond %{REQUEST_URL} ^(.+?)/$
RewriteCond $1.html -f
RewriteRule (.*) $1.html [L]

