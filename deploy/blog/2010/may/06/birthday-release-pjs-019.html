<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Jared | Forsyth
    </title>    <link rel="stylesheet" href="/media/bootstrap/css/bootstrap.css"/>
    <link rel="stylesheet" href="/media/css/general.css"/>
<link rel="stylesheet" href="/media/css/header.css"/>
<link rel="stylesheet" href="/media/css/blog-post.css"/>
  </head>
  <body class=""><div id="header" class="clearfix">
  <div class="title">Jared Forsyth
  </div>
  <div class="nav-internal"><nav class=nav nav-pills>
    <ul class="nav nav-pills">
                <li>
            <a title="Home Page"
                class="button white home"
                                                href="/index.html"
                                >
                home
            </a>
        </li>        <li>
            <a title="Projects"
                class="button white projects"
                                                href="/projects"
                                >
                projects
            </a>
        </li>        <li>
            <a title="Blog"
                class="button white blog"
                                                href="/blog"
                                >
                blog
            </a>
        </li>        <li>
            <a title="About"
                class="button white about"
                                                href="/about.html"
                                >
                about
            </a>
        </li>    </ul>
</nav>
  </div>
  <div class="nav-external"><nav class=nav nav-pills>
    <ul class="nav nav-pills">
                <li>
            <a title="my github repositories"
                class="button white github"
                                target="_blank"
                                                href="/http%3A//github.com/jabapyth"
                                >
                github
            </a>
        </li>        <li>
            <a title="my twitter account"
                class="button white twitter"
                                target="_blank"
                                                href="/http%3A//twitter.com/jabapyth"
                                >
                twitter
            </a>
        </li>        <li>
            <a title="my linkedin profile"
                class="button white linkedin"
                                target="_blank"
                                                href="/http%3A//www.linkedin.com/profile/view%3Fid%3D37203333"
                                >
                linkedin
            </a>
        </li>        <li>
            <a title="my stackoverflow profile"
                class="button white stackoverflow"
                                target="_blank"
                                                href="/http%3A//stackoverflow.com/users/290784/jared-forsyth"
                                >
                stackoverflow
            </a>
        </li>    </ul>
</nav>
  </div>
</div><div id="content">
<article class="post">
<nav class="post_nav">
<a class="backlink" href="/blog/2010/may/06">Back to list</a>
<a class="prev"
    title="Manually enable clean urls in drupal"
        href="/blog/2010/may/14/manually-enable-clean-urls-drupal.html">
    Previous
</a>

<a class="next"
    title="Disqus comments in Django"
        href="/blog/2010/may/04/disqus-comments-django.html">
    Next
</a>

</nav>
<h1 class="title">
    <a href="/blog/2010/may/06/birthday-release-pjs-019.html">
        Birthday release: PJs 0.19
    </a>
</h1>
<time datetime="2010-05-06">
    Posted: Thu, 06 May 2010
</time>


<div class="document">
<img alt="http://jaredforsyth.com/media/projects/pjs_logo125x125.png" class="first align-left" src="http://jaredforsyth.com/media/projects/pjs_logo125x125.png" />
<p>So today&#8217;s my birthday, and I thought I&#8217;d celebrate by releasing the first
version of <a class="reference external" href="http://jaredforsyth.com/projects/pjs/">PJs</a>&#8230;actually, it&#8217;s pretty much a coincidence, but i just got PJs
into a state that I&#8217;m comfortable letting other people hack away at it, and
it&#8217;s my birthday. Why 0.19? Because today, in 1991, I was born. So I am now
19. I think the number-play is&nbsp;interesting.</p>
<p>Anyway, if you missed <a class="reference external" href="http://jaredforsyth.com/blog/2010/may/4/announcing-pjs/">my announcement</a>, PJs is a library
similar in nature to Pyjamas, that is it provides Python to Javascript
translation, with added libraries for easing the development of UIs on the
web. Here are some of the current&nbsp;features:</p>
<ul class="simple">
<li>true pythonic <strong>object-oriented programming</strong>, visible on the javascript side as&nbsp;well</li>
<li><strong>function argument checking</strong>: this is important. One of the reasons I
got frustrated with pyjamas while trying to use it was the lack of robust
error management. PJs provides optional method argument enforcing, and also
provides a method of specifying default argument&nbsp;values.</li>
<li><strong>*args and **kwargs</strong>: this is a really useful one. Javascript doesn&#8217;t
normally support argument-magic such as this, but PJs&nbsp;does.</li>
<li><strong>modules</strong>: yes, importing works; as nearly to python as is possible; this
includes things like reload(), sub-modules, and other such wonderful
goodness. __name__, __file__, and __doc__ variables work too&nbsp;=)</li>
</ul>
<p>One of the things that I am really proud of with PJs is the care taken to make
the produced javascript <em>actually readable and usable</em>. The modules that deal
with pythonic functions and classes <em>can realistically be used in javascript
hacking</em>, as they use a reasonable syntax and strive to make sense to humans&nbsp;=).</p>
<ul class="simple">
<li><a class="reference external" href="http://github.com/jabapyth/PJs/blob/v0.19/pjs/js/classy.js">pjs/js/classy.js</a>: provides the
Class function, which handles the creation of&nbsp;classes</li>
<li><a class="reference external" href="http://github.com/jabapyth/PJs/blob/v0.19/pjs/js/functions.js">pjs/js/functions.js</a>: provides
the $m function, which can add strict argument checking, default values,
*args and&nbsp;**kargs</li>
<li><a class="reference external" href="http://github.com/jabapyth/PJs/blob/v0.19/pjs/js/modules.js">pjs/js/modules.js</a> isn&#8217;t
terribly useful without <a class="reference external" href="http://github.com/jabapyth/PJs/blob/v0.19/pjs/js/__builtin__.js">__builtin__.js</a>, which
provides the __import__ function, but the two together can concievably be
used in any javascript&nbsp;project.</li>
</ul>
<p>I&#8217;m now working on making tests for everything =) There&#8217;s a file
test/example.py which contains just about everything that PJs currently
handles. To try the translation yourself, just&nbsp;run:</p>
<pre class="code bash literal-block">
./build.py <span class="name builtin">test</span>/example.py &gt; <span class="name builtin">test</span>/example.js
</pre>
<p>Then, if you have <a class="reference external" href="http://www.mozilla.org/rhino/">rhino</a> installed, you can&nbsp;run:</p>
<pre class="code bash literal-block">
rhino <span class="name builtin">test</span>/example.js
</pre>
<p>to see the&nbsp;output.</p>
<p>For this release, I have tried to focus on the things which would be most
difficult/interesting, with the exception of two&nbsp;things:</p>
<ul class="simple">
<li>__add__, __call__ and other python operator&nbsp;magic.</li>
<li>generators</li>
</ul>
<p>With the first, I don&#8217;t know if I&#8217;ll ever implement it &#8212; there would be too
much of a performance hit to implement this globally (requiring simple things
like <tt class="docutils literal">2 + 3</tt> to turn into <tt class="docutils literal"><span class="pre">Number(2).__add__(Number(3))</span></tt> worst case), and
I&#8217;m wary of trying any compile-time type/attr&nbsp;checking&#8230;</p>
<p>I&#8217;ve had a few ideas today about how to do generators &#8212; it won&#8217;t be pretty,
but they might&nbsp;come&#8230;</p>
<p>Some easy things that remain, and will probably be taken care of in the next
two&nbsp;days:</p>
<ul class="simple">
<li>while&nbsp;loops</li>
<li>for&nbsp;loops</li>
<li>tuples, lists, and&nbsp;dictionaries</li>
<li>string&nbsp;functions</li>
</ul>
<p>So I invite you to clone the repo (<tt class="docutils literal">git clone <span class="pre">git://github.com/jabapyth/PJs.git</span></tt>)
start playing around with&nbsp;it!</p>
<p>Not bad for one guy in two days,&nbsp;eh?</p>
</div>

</article>

<div class="post-comments">
    <a name="comments"></a>
    <script>
        var disqus_identifier = "birthday-release-pjs-019";
    </script>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
    /**
    * var disqus_identifier; [Optional but recommended: Define a unique
    * identifier (e.g. post id or slug) for this thread] 
    */
    (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://jaredforsyth.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=jaredforsyth">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</div>
</div>  </body>
</html>